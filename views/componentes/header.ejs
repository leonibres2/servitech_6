<header class="header">
    <nav class="navbar">
        <div class="mobile-menu-toggle" id="mobileMenuToggle">
            <i class="fas fa-bars"></i>
        </div>
        <div class="logo hide-on-mobile">
            <a href="/"><img src="/assets/img/logo.png" alt="logo" class="logo-img"></a>
        </div>
        <div class="nav-container" id="navContainer">
            <div class="nav-links">
                <a href="/" class="nav-item"><i class="fas fa-home"></i> Inicio</a>
                <a href="/expertos.html" class="nav-item"><i class="fas fa-users"></i> Expertos</a>
                <a href="/contacto.html" class="nav-item"><i class="fas fa-envelope"></i> Contacto</a>
                <!-- Menú de usuario móvil (solo visible cuando el usuario está logueado) -->
                <div class="mobile-user-menu">
                    <a href="/perfil.html" class="nav-item user-nav-item">
                        <i class="fas fa-user"></i> Mi perfil
                    </a>
                    <a href="/mis-asesorias.html" class="nav-item user-nav-item">
                        <i class="fas fa-calendar-alt"></i> Mis asesorías
                    </a>
                    <a href="#" class="nav-item user-nav-item" id="mobileLogoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Cerrar sesión
                    </a>
                </div>
            </div>
            <div class="auth-buttons">
                <a href="/login.html" class="btn btn-outline">Iniciar sesión</a>
                <a href="/registro.html" class="btn btn-primary">Registrarse</a>
            </div>
        </div>
        <div class="user-menu" id="userMenuContainer" style="display: none;">
            <div class="user-avatar">
                <img src="" alt="Usuario" id="userAvatar">
            </div>
            <span class="d-none d-md-inline" id="userDisplayName">Usuario</span>
            <i class="fas fa-chevron-down"></i>
            <div class="user-dropdown" id="userDropdown">
                <a href="/perfil.html" class="dropdown-item">
                    <i class="fas fa-user"></i> Mi perfil
                </a>
                <a href="/mis-asesorias.html" class="dropdown-item">
                    <i class="fas fa-calendar-alt"></i> Mis asesorías
                </a>
                <a href="#" class="dropdown-item" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> Cerrar sesión
                </a>
            </div>
        </div>
    </nav>
</header>
<script>
    // Inicializa el menú móvil tras el render del header
    if (typeof setupMobileMenu === 'function') {
        setupMobileMenu();
    } else {
        document.addEventListener('DOMContentLoaded', function () {
            if (typeof setupMobileMenu === 'function') {
                setupMobileMenu();
            }
        });
    }
</script>